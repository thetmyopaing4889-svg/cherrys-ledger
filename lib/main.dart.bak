import 'dart:ui';
import 'package:flutter/material.dart';

void main() => runApp(const CherryLedgerApp());

class CherryLedgerApp extends StatelessWidget {
  const CherryLedgerApp({super.key});

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      debugShowCheckedModeBanner: false,
      title: "Cherry's Ledger",
      theme: ThemeData(useMaterial3: true, colorSchemeSeed: Colors.green),
      home: const WelcomeScreen(),
    );
  }
}

class WelcomeScreen extends StatelessWidget {
  const WelcomeScreen({super.key});

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Stack(
        children: [
          // Background Image (Full Screen)
          Positioned.fill(
            child: Image.asset(
              "assets/images/welcome.png",
              fit: BoxFit.cover,
              filterQuality: FilterQuality.high,
            ),
          ),

          // Soft dark overlay for readability
          Positioned.fill(
            child: DecoratedBox(
              decoration: BoxDecoration(
                gradient: LinearGradient(
                  begin: Alignment.topCenter,
                  end: Alignment.bottomCenter,
                  colors: [
                    Colors.black.withOpacity(0.15),
                    Colors.black.withOpacity(0.25),
                    Colors.black.withOpacity(0.35),
                  ],
                ),
              ),
            ),
          ),

          // Glow text under the "WELCOME" area (top)
          SafeArea(
            child: Align(
              alignment: Alignment.topCenter,
              child: Padding(
                padding: const EdgeInsets.only(top: 140),
                child: _GlowText('မိန်းမကို အရမ်းချစ်တယ် အာဘွား'),
              ),
            ),
          ),

          // Bottom Button (must have)
          SafeArea(
            child: Align(
              alignment: Alignment.bottomCenter,
              child: Padding(
                padding: const EdgeInsets.fromLTRB(18, 12, 18, 22),
                child: SizedBox(
                  width: double.infinity,
                  child: ConstrainedBox(
                    constraints: const BoxConstraints(maxWidth: 360),
                    child: ElevatedButton(
                      onPressed: () {
                        Navigator.of(context).push(
                          MaterialPageRoute(builder: (_) => const HomeScreen()),
                        );
                      },
                      style: ElevatedButton.styleFrom(
                        backgroundColor: Colors.green.shade700,
                        foregroundColor: Colors.white,
                        elevation: 12,
                        shadowColor: Colors.black.withOpacity(0.35),
                        padding: const EdgeInsets.symmetric(vertical: 16),
                        shape: RoundedRectangleBorder(
                          borderRadius: BorderRadius.circular(18),
                        ),
                      ),
                      child: const Text(
                        "Enter Ledger →",
                        style: TextStyle(
                          fontSize: 18,
                          fontWeight: FontWeight.w700,
                          letterSpacing: 0.2,
                        ),
                      ),
                    ),
                  ),
                ),
              ),
            ),
          ),
        ],
      ),
    );
  }
}

class _GlowText extends StatelessWidget {
  final String text;
  const _GlowText(this.text);

  @override
  Widget build(BuildContext context) {
    // Glow effect: multiple shadows
    return Text(
      text,
      textAlign: TextAlign.center,
      style: TextStyle(
        fontSize: 20,
        fontWeight: FontWeight.w800,
        color: Colors.white,
        shadows: [
          Shadow(color: Colors.pinkAccent.withOpacity(0.90), blurRadius: 18),
          Shadow(color: Colors.pinkAccent.withOpacity(0.70), blurRadius: 30),
          Shadow(color: Colors.white.withOpacity(0.70), blurRadius: 10),
          Shadow(
            color: Colors.black.withOpacity(0.35),
            blurRadius: 6,
            offset: const Offset(0, 2),
          ),
        ],
      ),
    );
  }
}

class HomeScreen extends StatelessWidget {
  const HomeScreen({super.key});

  @override
  Widget build(BuildContext context) {
    return const Scaffold(
      body: Center(
        child: Text(
          "Home (Next: Boss List UI)",
          style: TextStyle(fontSize: 22, fontWeight: FontWeight.w600),
        ),
      ),
    );
  }
}
